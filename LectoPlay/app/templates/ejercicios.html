{% extends 'home.html' %}

{% block title %}Ejercicios | LectoPlay{% endblock %}

{% block content %}

<style>
/* ğŸ”Š BotÃ³n flotante para activar narrador */
#tts-btn {
    position: fixed;
    bottom: 30px;
    left: 30px;
    background: #ffafcc;
    padding: 15px 25px;
    border-radius: 50px;
    font-size: 16px;
    border: none;
    cursor: pointer;
    font-weight: bold;
    box-shadow: 0px 4px 6px rgba(0,0,0,0.3);
    z-index: 9999;
}
</style>

<!-- ğŸ”Š BotÃ³n flotante -->
<button id="tts-btn" onclick="activarTTS()">ğŸ”Š Activar narrador</button>

<section class="ejercicios">
    <h1>ğŸ§© Ejercicios Divertidos</h1>
    <p>Aprende y juega con estos ejercicios interactivos.</p>

    <button onclick="leerTexto('Ejercicios Divertidos. Aprende y juega con estos ejercicios interactivos.')">
        ğŸ”Š Escuchar de nuevo
    </button>

    <div class="cards">
        <div class="card">
            <h3>ğŸ“– Lectura RÃ¡pida</h3>
            <p>Lee frases cortas y responde preguntas para mejorar tu comprensiÃ³n.</p>
            <a href="{% url 'lectura_rapida_game' %}" class="btn">Jugar</a>
        </div>
        <div class="card">
            <h3>ğŸ¨ Palabras y Colores</h3>
            <p>Asocia palabras con colores.</p>
            <a href="{% url 'palabras_colores' %}" class="btn">Jugar</a>
        </div>
        <div class="card">
            <h3>ğŸ”¤ Encuentra la Letra</h3>
            <p>Identifica letras escondidas.</p>
            <a href="{% url 'encuentra' %}" class="btn">Jugar</a>
        </div>
        <div class="card">
            <h3>âœï¸ Escribe la Palabra</h3>
            <p>Lee una descripciÃ³n y escribe la palabra correcta.</p>
            <a href="{% url 'desc_palabra' %}" class="btn">Jugar</a>
        </div>
        <div class="card">
            <h3>âœ… Palabra o no palabra</h3>
            <p>Diferencia palabras reales e inventadas.</p>
            <a href="{% url 'pnp' %}" class="btn">Jugar</a>
        </div>
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script>
// ğŸ”Š SI leerTexto NO EXISTE, SE DEFINE (evita errores)
if (typeof leerTexto !== "function") {
    function leerTexto(texto) {
        const speech = new SpeechSynthesisUtterance(texto);
        speech.lang = "es-ES";
        window.speechSynthesis.speak(speech);
    }
}

// âœ”ï¸ NARRADOR al presionar el botÃ³n flotante
function activarTTS() {
    leerTexto("Ejercicios Divertidos. Aprende y juega con estos ejercicios interactivos.");
    leerTexto("Elige entre los distintos ejercicios.");
    leerTexto("Lectura RÃ¡pida, lee frases cortas y responde preguntas.");
    leerTexto("Palabras y Colores, asocia palabras con colores.");
    leerTexto("Encuentra la Letra, identifica letras escondidas.");
    leerTexto("Escribe la Palabra, lee una descripciÃ³n y escribe la palabra correcta.");
    leerTexto("Palabra o no palabra, diferencia palabras reales e inventadas.");
    leerTexto("DiviÃ©rtete aprendiendo con los ejercicios.");

    document.getElementById('tts-btn').style.display = 'none';
}
</script>

<!-- ğŸ›‘ DETENER LA VOZ AL CAMBIAR DE PÃGINA -->
<script>
window.addEventListener("beforeunload", function () {
    window.speechSynthesis.cancel();
});
</script>
{% endblock %}
